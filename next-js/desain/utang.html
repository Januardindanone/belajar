<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Data Utang</title>
</head>

<body class="min-h-screen from-blue-50 to-white text-gray-800 p-6">

  <!-- Header -->
  <header class="text-center mb-8">
    <h1 class="text-2xl font-bold text-blue-700 tracking-wide">ðŸ’³Data Utang</h1>
  </header>

  <!-- ======= Belum Lunas ======= -->
  <section class="mb-8">
    <h2 class="text-lg font-semibold text-red-600 flex items-center gap-2 mb-2">
      ðŸ”´ Belum Lunas
      <span class="text-xs font-normal text-gray-400">(1 data)</span>
    </h2>
    <div class="overflow-hidden rounded-xl border border-gray-200 shadow-sm bg-white">
      <table class="w-full text-sm">
        <thead class="bg-gradient-to-r from-red-100 to-red-50 text-red-700">
          <tr>
            <th class="p-3 text-left">Nama</th>
            <th class="p-3 text-right">Utang</th>
            <th class="p-3 text-center">Aksi</th>
          </tr>
        </thead>
        <tbody>
          <tr class="hover:bg-red-50 transition">
            <td class="border-t p-3 font-medium">Andi</td>
            <td class="border-t p-3 text-right text-gray-700">Rp 50.000</td>
            <td class="border-t p-3 text-center space-x-2">
              <button onclick="openDetail('Andi', 50000, 20000, '5 Nov 2025', null)" class="px-2 py-1 rounded-md text-xs bg-blue-100 text-blue-700 hover:bg-blue-200 transition">Detail</button>
              <button onclick="openBayarModal('Andi', 50000, 20000)" class="px-2 py-1 rounded-md text-xs bg-green-100 text-green-700 hover:bg-green-200 transition">Bayar</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- ======= Sudah Lunas ======= -->
  <section>
    <h2 class="text-lg font-semibold text-green-600 flex items-center gap-2 mb-2">
      ðŸŸ¢ Sudah Lunas
      <span class="text-xs font-normal text-gray-400">(1 data)</span>
    </h2>
    <div class="overflow-hidden rounded-xl border border-gray-200 shadow-sm bg-white">
      <table class="w-full text-sm">
        <thead class="bg-gradient-to-r from-green-100 to-green-50 text-green-700">
          <tr>
            <th class="p-3 text-left">Nama</th>
            <th class="p-3 text-right">Total</th>
            <th class="p-3 text-center">Aksi</th>
          </tr>
        </thead>
        <tbody>
          <tr class="hover:bg-green-50 transition">
            <td class="border-t p-3 font-medium">Budi</td>
            <td class="border-t p-3 text-right text-gray-700">Rp 75.000</td>
            <td class="border-t p-3 text-center">
              <button onclick="openDetail('Budi', 75000, 75000, '3 Nov 2025', '10 Nov 2025')" class="px-3 py-1 rounded-md text-xs bg-blue-100 text-blue-700 hover:bg-blue-200 transition">Detail</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- ======= Modal Detail ======= -->
  <div id="detailModal" class="fixed inset-0 bg-black bg-opacity-40 hidden flex items-center justify-center z-20 backdrop-blur-sm">
    <div class="bg-white rounded-xl w-96 p-6 shadow-xl border-t-4 border-blue-500">
      <h3 class="text-blue-700 font-semibold mb-4 text-center text-lg">ðŸ§¾ Detail Utang</h3>
      <div class="text-sm space-y-2 mb-3">
        <p><strong>Nama:</strong> <span id="detailNama"></span></p>
        <p><strong>Total Utang:</strong> Rp <span id="detailTotal"></span></p>
        <p><strong>Sudah Dibayar:</strong> Rp <span id="detailBayar"></span></p>
        <p><strong>Sisa:</strong> Rp <span id="detailSisa"></span></p>
        <p><strong>Tanggal Pembelian:</strong> <span id="detailTglBeli"></span></p>
        <p><strong>Tanggal Pelunasan:</strong> <span id="detailTglLunas"></span></p>
      </div>

      <div class="border-t pt-3">
        <p class="text-sm font-semibold text-blue-600 mb-2">Barang:</p>
        <ul id="barangList" class="text-sm list-disc pl-5 space-y-1 text-gray-700">
          <li>Sabun Mandi (2x) â€” Rp 10.000</li>
          <li>Shampoo 100ml (1x) â€” Rp 15.000</li>
          <li>Odol (1x) â€” Rp 5.000</li>
        </ul>
      </div>

      <div class="mt-5 text-center">
        <button onclick="closeDetail()" class="bg-gray-200 px-5 py-1.5 rounded-md hover:bg-gray-300 text-sm font-medium">Tutup</button>
      </div>
    </div>
  </div>

  <!-- ======= Modal Bayar ======= -->
  <div id="bayarModal" class="fixed inset-0 bg-black bg-opacity-40 hidden flex items-center justify-center z-30 backdrop-blur-sm">
    <div class="bg-white rounded-xl w-96 p-6 shadow-xl border-t-4 border-green-500">
      <h3 class="text-green-700 font-semibold mb-4 text-center text-lg">ðŸ’° Bayar Utang</h3>

      <div class="bg-green-50 border border-green-100 rounded-lg p-3 space-y-1 text-sm mb-4">
        <p class="flex justify-between"><span>Nama:</span> <span id="namaPelanggan" class="font-semibold text-blue-700">-</span></p>
        <p class="flex justify-between"><span>Total Utang:</span> <span id="totalUtang" class="font-semibold">Rp 0</span></p>
        <p class="flex justify-between"><span>Sudah Dibayar:</span> <span id="sudahDibayar" class="font-semibold text-green-700">Rp 0</span></p>
        <p class="flex justify-between border-t border-dashed pt-2 mt-1"><span>Sisa Utang:</span> <span id="sisaUtang" class="font-bold text-red-600">Rp 0</span></p>
      </div>

      <label class="text-sm font-medium">Jumlah Bayar:</label>
      <input id="jumlahBayar" type="number" class="w-full border rounded-md px-3 py-2 text-sm mb-4 focus:ring-2 focus:ring-green-300 focus:outline-none" placeholder="Masukkan nominal..." />

      <button id="lunasiBtn" class="w-full bg-green-500 text-white py-2 rounded-md text-sm font-semibold hover:bg-green-600 transition mb-3"></button>

      <div class="flex justify-end space-x-2 text-sm">
        <button onclick="closeBayarModal()" class="px-4 py-1.5 bg-gray-200 rounded-md hover:bg-gray-300">Batal</button>
        <button onclick="alert('Pembayaran berhasil!')" class="px-4 py-1.5 bg-green-500 text-white rounded-md hover:bg-green-600">Bayar</button>
      </div>
    </div>
  </div>

  <!-- ======= Script ======= -->
  <script>
    function openDetail(nama, total, sudah, tglBeli, tglLunas) {
      const sisa = total - sudah;
      document.getElementById("detailNama").textContent = nama;
      document.getElementById("detailTotal").textContent = total.toLocaleString();
      document.getElementById("detailBayar").textContent = sudah.toLocaleString();
      document.getElementById("detailSisa").textContent = sisa.toLocaleString();
      document.getElementById("detailTglBeli").textContent = tglBeli || "-";
      document.getElementById("detailTglLunas").textContent = tglLunas || "-";
      document.getElementById("detailModal").classList.remove("hidden");
    }

    function closeDetail() {
      document.getElementById("detailModal").classList.add("hidden");
    }

    function openBayarModal(nama, total, sudah) {
      const sisa = total - sudah;
      document.getElementById("namaPelanggan").textContent = nama;
      document.getElementById("totalUtang").textContent = "Rp " + total.toLocaleString();
      document.getElementById("sudahDibayar").textContent = "Rp " + sudah.toLocaleString();
      document.getElementById("sisaUtang").textContent = "Rp " + sisa.toLocaleString();
      document.getElementById("lunasiBtn").textContent = "ðŸ’¸ Lunasi Rp " + sisa.toLocaleString();
      document.getElementById("lunasiBtn").onclick = () => {
        document.getElementById("jumlahBayar").value = sisa;
      };
      document.getElementById("bayarModal").classList.remove("hidden");
    }

    function closeBayarModal() {
      document.getElementById("bayarModal").classList.add("hidden");
    }
  </script>
</body>
</html>
