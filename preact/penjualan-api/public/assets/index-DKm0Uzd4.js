(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();var Q,b,Ce,A,ue,Se,$e,Te,se,ne,re,O={},He=[],Ie=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,X=Array.isArray;function B(t,e){for(var n in e)t[n]=e[n];return t}function ie(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Me(t,e,n){var r,l,o,i={};for(o in e)o=="key"?r=e[o]:o=="ref"?l=e[o]:i[o]=e[o];if(arguments.length>2&&(i.children=arguments.length>3?Q.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)i[o]===void 0&&(i[o]=t.defaultProps[o]);return q(t,i,r,l,null)}function q(t,e,n,r,l){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:l??++Ce,__i:-1,__u:0};return l==null&&b.vnode!=null&&b.vnode(o),o}function V(t){return t.children}function z(t,e){this.props=t,this.context=e}function M(t,e){if(e==null)return t.__?M(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?M(t):null}function je(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return je(t)}}function de(t){(!t.__d&&(t.__d=!0)&&A.push(t)&&!K.__r++||ue!=b.debounceRendering)&&((ue=b.debounceRendering)||Se)(K)}function K(){for(var t,e,n,r,l,o,i,_=1;A.length;)A.length>_&&A.sort($e),t=A.shift(),_=A.length,t.__d&&(n=void 0,r=void 0,l=(r=(e=t).__v).__e,o=[],i=[],e.__P&&((n=B({},r)).__v=r.__v+1,b.vnode&&b.vnode(n),ce(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[l]:null,o,l??M(r),!!(32&r.__u),i),n.__v=r.__v,n.__.__k[n.__i]=n,Be(o,n,i),r.__e=r.__=null,n.__e!=l&&je(n)));K.__r=0}function Pe(t,e,n,r,l,o,i,_,f,c,u){var a,h,d,x,T,k,m,g=r&&r.__k||He,H=e.length;for(f=Oe(n,e,g,f,H),a=0;a<H;a++)(d=n.__k[a])!=null&&(h=d.__i==-1?O:g[d.__i]||O,d.__i=a,k=ce(t,d,h,l,o,i,_,f,c,u),x=d.__e,d.ref&&h.ref!=d.ref&&(h.ref&&_e(h.ref,null,d),u.push(d.ref,d.__c||x,d)),T==null&&x!=null&&(T=x),(m=!!(4&d.__u))||h.__k===d.__k?f=Ee(d,f,t,m):typeof d.type=="function"&&k!==void 0?f=k:x&&(f=x.nextSibling),d.__u&=-7);return n.__e=T,f}function Oe(t,e,n,r,l){var o,i,_,f,c,u=n.length,a=u,h=0;for(t.__k=new Array(l),o=0;o<l;o++)(i=e[o])!=null&&typeof i!="boolean"&&typeof i!="function"?(f=o+h,(i=t.__k[o]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?q(null,i,null,null,null):X(i)?q(V,{children:i},null,null,null):i.constructor==null&&i.__b>0?q(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,_=null,(c=i.__i=Ve(i,n,f,a))!=-1&&(a--,(_=n[c])&&(_.__u|=2)),_==null||_.__v==null?(c==-1&&(l>u?h--:l<u&&h++),typeof i.type!="function"&&(i.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,i.__u|=4))):t.__k[o]=null;if(a)for(o=0;o<u;o++)(_=n[o])!=null&&(2&_.__u)==0&&(_.__e==r&&(r=M(_)),Le(_,_));return r}function Ee(t,e,n,r){var l,o;if(typeof t.type=="function"){for(l=t.__k,o=0;l&&o<l.length;o++)l[o]&&(l[o].__=t,e=Ee(l[o],e,n,r));return e}t.__e!=e&&(r&&(e&&t.type&&!e.parentNode&&(e=M(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Ve(t,e,n,r){var l,o,i,_=t.key,f=t.type,c=e[n],u=c!=null&&(2&c.__u)==0;if(c===null&&t.key==null||u&&_==c.key&&f==c.type)return n;if(r>(u?1:0)){for(l=n-1,o=n+1;l>=0||o<e.length;)if((c=e[i=l>=0?l--:o++])!=null&&(2&c.__u)==0&&_==c.key&&f==c.type)return i}return-1}function he(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Ie.test(e)?n:n+"px"}function G(t,e,n,r,l){var o,i;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||he(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||he(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(Te,"$1")),i=e.toLowerCase(),e=i in t||e=="onFocusOut"||e=="onFocusIn"?i.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r?n.u=r.u:(n.u=se,t.addEventListener(e,o?re:ne,o)):t.removeEventListener(e,o?re:ne,o);else{if(l=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function fe(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=se++;else if(e.t<n.u)return;return n(b.event?b.event(e):e)}}}function ce(t,e,n,r,l,o,i,_,f,c){var u,a,h,d,x,T,k,m,g,H,j,I,D,W,F,p,y,w=e.type;if(e.constructor!=null)return null;128&n.__u&&(f=!!(32&n.__u),o=[_=e.__e=n.__e]),(u=b.__b)&&u(e);e:if(typeof w=="function")try{if(m=e.props,g="prototype"in w&&w.prototype.render,H=(u=w.contextType)&&r[u.__c],j=u?H?H.props.value:u.__:r,n.__c?k=(a=e.__c=n.__c).__=a.__E:(g?e.__c=a=new w(m,j):(e.__c=a=new z(m,j),a.constructor=w,a.render=Ge),H&&H.sub(a),a.props=m,a.state||(a.state={}),a.context=j,a.__n=r,h=a.__d=!0,a.__h=[],a._sb=[]),g&&a.__s==null&&(a.__s=a.state),g&&w.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=B({},a.__s)),B(a.__s,w.getDerivedStateFromProps(m,a.__s))),d=a.props,x=a.state,a.__v=e,h)g&&w.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),g&&a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(g&&w.getDerivedStateFromProps==null&&m!==d&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(m,j),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(m,a.__s,j)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(a.props=m,a.state=a.__s,a.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function($){$&&($.__=e)}),I=0;I<a._sb.length;I++)a.__h.push(a._sb[I]);a._sb=[],a.__h.length&&i.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(m,a.__s,j),g&&a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(d,x,T)})}if(a.context=j,a.props=m,a.__P=t,a.__e=!1,D=b.__r,W=0,g){for(a.state=a.__s,a.__d=!1,D&&D(e),u=a.render(a.props,a.state,a.context),F=0;F<a._sb.length;F++)a.__h.push(a._sb[F]);a._sb=[]}else do a.__d=!1,D&&D(e),u=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++W<25);a.state=a.__s,a.getChildContext!=null&&(r=B(B({},r),a.getChildContext())),g&&!h&&a.getSnapshotBeforeUpdate!=null&&(T=a.getSnapshotBeforeUpdate(d,x)),p=u,u!=null&&u.type===V&&u.key==null&&(p=Ne(u.props.children)),_=Pe(t,X(p)?p:[p],e,n,r,l,o,i,_,f,c),a.base=e.__e,e.__u&=-161,a.__h.length&&i.push(a),k&&(a.__E=a.__=null)}catch($){if(e.__v=null,f||o!=null)if($.then){for(e.__u|=f?160:128;_&&_.nodeType==8&&_.nextSibling;)_=_.nextSibling;o[o.indexOf(_)]=null,e.__e=_}else{for(y=o.length;y--;)ie(o[y]);ae(e)}else e.__e=n.__e,e.__k=n.__k,$.then||ae(e);b.__e($,e,n)}else o==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):_=e.__e=We(n.__e,e,n,r,l,o,i,f,c);return(u=b.diffed)&&u(e),128&e.__u?void 0:_}function ae(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(ae)}function Be(t,e,n){for(var r=0;r<n.length;r++)_e(n[r],n[++r],n[++r]);b.__c&&b.__c(e,t),t.some(function(l){try{t=l.__h,l.__h=[],t.some(function(o){o.call(l)})}catch(o){b.__e(o,l.__v)}})}function Ne(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:X(t)?t.map(Ne):B({},t)}function We(t,e,n,r,l,o,i,_,f){var c,u,a,h,d,x,T,k=n.props,m=e.props,g=e.type;if(g=="svg"?l="http://www.w3.org/2000/svg":g=="math"?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),o!=null){for(c=0;c<o.length;c++)if((d=o[c])&&"setAttribute"in d==!!g&&(g?d.localName==g:d.nodeType==3)){t=d,o[c]=null;break}}if(t==null){if(g==null)return document.createTextNode(m);t=document.createElementNS(l,g,m.is&&m),_&&(b.__m&&b.__m(e,o),_=!1),o=null}if(g==null)k===m||_&&t.data==m||(t.data=m);else{if(o=o&&Q.call(t.childNodes),k=n.props||O,!_&&o!=null)for(k={},c=0;c<t.attributes.length;c++)k[(d=t.attributes[c]).name]=d.value;for(c in k)if(d=k[c],c!="children"){if(c=="dangerouslySetInnerHTML")a=d;else if(!(c in m)){if(c=="value"&&"defaultValue"in m||c=="checked"&&"defaultChecked"in m)continue;G(t,c,null,d,l)}}for(c in m)d=m[c],c=="children"?h=d:c=="dangerouslySetInnerHTML"?u=d:c=="value"?x=d:c=="checked"?T=d:_&&typeof d!="function"||k[c]===d||G(t,c,d,k[c],l);if(u)_||a&&(u.__html==a.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(a&&(t.innerHTML=""),Pe(e.type=="template"?t.content:t,X(h)?h:[h],e,n,r,g=="foreignObject"?"http://www.w3.org/1999/xhtml":l,o,i,o?o[0]:n.__k&&M(n,0),_,f),o!=null)for(c=o.length;c--;)ie(o[c]);_||(c="value",g=="progress"&&x==null?t.removeAttribute("value"):x!=null&&(x!==t[c]||g=="progress"&&!x||g=="option"&&x!=k[c])&&G(t,c,x,k[c],l),c="checked",T!=null&&T!=t[c]&&G(t,c,T,k[c],l))}return t}function _e(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(l){b.__e(l,n)}}function Le(t,e,n){var r,l;if(b.unmount&&b.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||_e(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){b.__e(o,e)}r.base=r.__P=null}if(r=t.__k)for(l=0;l<r.length;l++)r[l]&&Le(r[l],e,n||typeof t.type!="function");n||ie(t.__e),t.__c=t.__=t.__e=void 0}function Ge(t,e,n){return this.constructor(t,n)}function Re(t,e,n){var r,l,o,i;e==document&&(e=document.documentElement),b.__&&b.__(t,e),l=(r=!1)?null:e.__k,o=[],i=[],ce(e,t=e.__k=Me(V,null,[t]),l||O,O,e.namespaceURI,l?null:e.firstChild?Q.call(e.childNodes):null,o,l?l.__e:e.firstChild,r,i),Be(o,t,i)}Q=He.slice,b={__e:function(t,e,n,r){for(var l,o,i;e=e.__;)if((l=e.__c)&&!l.__)try{if((o=l.constructor)&&o.getDerivedStateFromError!=null&&(l.setState(o.getDerivedStateFromError(t)),i=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(t,r||{}),i=l.__d),i)return l.__E=l}catch(_){t=_}throw t}},Ce=0,z.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=B({},this.state),typeof t=="function"&&(t=t(B({},n),this.props)),t&&B(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),de(this))},z.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),de(this))},z.prototype.render=V,A=[],Se=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$e=function(t,e){return t.__v.__b-e.__v.__b},K.__r=0,Te=/(PointerCapture)$|Capture$/i,se=0,ne=fe(!1),re=fe(!0);var qe=0;function s(t,e,n,r,l,o){e||(e={});var i,_,f=e;if("ref"in f)for(_ in f={},e)_=="ref"?i=e[_]:f[_]=e[_];var c={type:t,props:f,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--qe,__i:-1,__u:0,__source:l,__self:o};if(typeof t=="function"&&(i=t.defaultProps))for(_ in i)f[_]===void 0&&(f[_]=i[_]);return b.vnode&&b.vnode(c),c}var Y,v,Z,pe,oe=0,Ue=[],C=b,me=C.__b,ge=C.__r,be=C.diffed,ye=C.__c,ve=C.unmount,xe=C.__;function De(t,e){C.__h&&C.__h(v,t,oe||e),oe=0;var n=v.__H||(v.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function L(t){return oe=1,ze(Ae,t)}function ze(t,e,n){var r=De(Y++,2);if(r.t=t,!r.__c&&(r.__=[Ae(void 0,e),function(_){var f=r.__N?r.__N[0]:r.__[0],c=r.t(f,_);f!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=v,!v.__f)){var l=function(_,f,c){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(h){return!!h.__c});if(u.every(function(h){return!h.__N}))return!o||o.call(this,_,f,c);var a=r.__c.props!==_;return u.forEach(function(h){if(h.__N){var d=h.__[0];h.__=h.__N,h.__N=void 0,d!==h.__[0]&&(a=!0)}}),o&&o.call(this,_,f,c)||a};v.__f=!0;var o=v.shouldComponentUpdate,i=v.componentWillUpdate;v.componentWillUpdate=function(_,f,c){if(this.__e){var u=o;o=void 0,l(_,f,c),o=u}i&&i.call(this,_,f,c)},v.shouldComponentUpdate=l}return r.__N||r.__}function Fe(t,e){var n=De(Y++,3);!C.__s&&Ye(n.__H,e)&&(n.__=t,n.u=e,v.__H.__h.push(n))}function Je(){for(var t;t=Ue.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(J),t.__H.__h.forEach(le),t.__H.__h=[]}catch(e){t.__H.__h=[],C.__e(e,t.__v)}}C.__b=function(t){v=null,me&&me(t)},C.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),xe&&xe(t,e)},C.__r=function(t){ge&&ge(t),Y=0;var e=(v=t.__c).__H;e&&(Z===v?(e.__h=[],v.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(J),e.__h.forEach(le),e.__h=[],Y=0)),Z=v},C.diffed=function(t){be&&be(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ue.push(e)!==1&&pe===C.requestAnimationFrame||((pe=C.requestAnimationFrame)||Ke)(Je)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Z=v=null},C.__c=function(t,e){e.some(function(n){try{n.__h.forEach(J),n.__h=n.__h.filter(function(r){return!r.__||le(r)})}catch(r){e.some(function(l){l.__h&&(l.__h=[])}),e=[],C.__e(r,n.__v)}}),ye&&ye(t,e)},C.unmount=function(t){ve&&ve(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{J(r)}catch(l){e=l}}),n.__H=void 0,e&&C.__e(e,n.__v))};var ke=typeof requestAnimationFrame=="function";function Ke(t){var e,n=function(){clearTimeout(r),ke&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,35);ke&&(e=requestAnimationFrame(n))}function J(t){var e=v,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),v=e}function le(t){var e=v;t.__c=t.__(),v=e}function Ye(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function Ae(t,e){return typeof e=="function"?e(t):e}function Qe(){return s("div",{class:"text-xl",children:"Ini halaman TambahPenjualan"})}function Xe(){return s("div",{class:"text-xl",children:"Penjualan belanja"})}function Ze(){return s("div",{class:"text-xl",children:"Profil Utang pengguna"})}function et({open:t,onClose:e,children:n}){return t?s("div",{class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:e,children:s("div",{class:"bg-white p-4 rounded-lg shadow w-full max-w-md mx-4 relative",onClick:r=>r.stopPropagation(),children:s("div",{children:n})})}):null}function P({children:t,color:e="blue",onClick:n,className:r=""}){return s("button",{onClick:n,class:`px-4 py-2 rounded-lg text-sm font-medium transition ${{blue:"bg-blue-100 border-2 border-blue-500 text-blue-600 hover:bg-blue-50 active:bg-blue-100",green:"bg-green-100 border-2 border-green-500 text-green-600 hover:bg-green-50 active:bg-green-100",yellow:"bg-yellow-100 border-2 border-yellow-400 text-yellow-500 hover:bg-yellow-50 active:bg-yellow-100",red:"bg-red-100 border-2 border-red-500 text-red-600 hover:bg-red-50 active:bg-red-100",gray:"bg-gray-100 border-2 border-gray-400 text-gray-600 hover:bg-gray-50 active:bg-gray-100"}[e]} ${r}`,children:t})}function tt({columns:t,data:e,actions:n}){return s("div",{class:"overflow-x-auto bg-white rounded-lg shadow-sm border border-gray-200 mb-4",children:s("table",{class:"w-full text-sm",children:[s("thead",{class:"bg-blue-100 text-blue-700",children:s("tr",{children:[t.map(r=>s("th",{class:"p-2 border",children:r.label},r.key)),n&&s("th",{class:"p-2 border w-32 text-center",children:"Aksi"})]})}),s("tbody",{children:e.map(r=>s("tr",{class:"hover:bg-blue-50",children:[t.map(l=>s("td",{class:"border p-2",children:l.render?l.render(r):r[l.key]},l.key)),n&&s("td",{class:"border p-2 text-center",children:s("div",{class:"flex justify-center gap-2",children:n.map(l=>s("button",{onClick:()=>l.onClick(r),class:`border px-2 py-0.5 rounded-lg text-[11px] font-medium transition ${l.color}`,children:l.label},l.label))})})]},r.id))})]})})}function nt({message:t,type:e="success",duration:n=1500,onClose:r}){const[l,o]=L(!1);Fe(()=>{o(!0);const c=setTimeout(()=>{o(!1),setTimeout(()=>r?.(),500)},n);return()=>clearTimeout(c)},[n,r]);const i=e==="success"?"bg-green-100 text-green-500":"bg-red-100 text-red-500",_=e==="success"?"text-green-600":"text-red-600",f=e==="success"?"Berhasil!":"Gagal!";return s("div",{class:"fixed inset-0 flex items-center justify-center z-50 pointer-events-none",children:s("div",{class:`bg-white rounded-3xl shadow-2xl w-80 px-8 py-6 text-center transform transition-all duration-500 ${l?"scale-100 opacity-100":"scale-90 opacity-0"} pointer-events-auto`,children:[s("div",{class:"flex justify-center mb-4",children:s("div",{class:`rounded-full p-4 ${i}`,children:e==="success"?s("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:s("path",{d:"M20 6L9 17l-5-5",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})}):s("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:[s("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s("line",{x1:"6",y1:"18",x2:"18",y2:"6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})}),s("h2",{class:`text-xl font-bold mb-1 ${_}`,children:f}),s("p",{class:"text-gray-600 text-sm leading-relaxed",children:t})]})})}function ee({name:t,actionText:e="OK",actionColor:n="red",onConfirm:r,onCancel:l}){return s("div",{class:"p-4 text-center",children:[s("p",{class:"text-lg font-semibold mb-4",children:["Yakin ingin ",e.toLowerCase()," ",s("span",{class:"text-gray-700 font-bold",children:t}),"?"]}),s("div",{class:"flex justify-center gap-4",children:[s(P,{color:"gray",type:"button",onClick:l,children:"Batal"}),s(P,{color:n,type:"button",onClick:r,children:e})]})]})}function te({title:t="Form",submit:e="simpan",fields:n,initialValues:r={},onSubmit:l,onClose:o}){const[i,_]=L(()=>{const u={};return n.forEach(a=>{a.type==="file"?u[a.key]=null:u[a.key]=r[a.key]??""}),u}),f=(u,a,h)=>{_(h==="file"?d=>({...d,[u]:a[0]||null}):h==="number"?d=>({...d,[u]:Number(a)}):d=>({...d,[u]:a}))};return s("form",{onSubmit:u=>{if(u.preventDefault(),n.some(h=>h.type==="file"&&i[h.key])){const h=new FormData;n.forEach(d=>{d.type==="file"&&i[d.key],h.append(d.key,i[d.key])}),l(h)}else l(i)},class:"space-y-4",children:[s("h3",{class:"text-xl font-semibold text-center text-blue-700 mb-4",children:t}),n.map(u=>s("div",{class:"flex flex-col",children:[s("label",{class:"font-semibold mb-1",children:u.label}),s("input",{type:u.type||"text",value:u.type==="file"?void 0:i[u.key],onInput:a=>f(u.key,u.type==="file"?a.target.files:a.target.value,u.type),placeholder:u.placeholder||"",class:`border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 ${u.type==="file"?"cursor-pointer":""}`})]},u.key)),s("div",{class:"flex justify-end gap-2 mt-4",children:[o&&s(P,{color:"gray",type:"button",onClick:o,children:"Batal"}),s(P,{color:"blue",type:"submit",children:e})]})]})}const U="/api",we=async t=>{const e=await fetch(`${U}/harga-spesial/${t}`),n=await e.json();if(e.ok&&n.status==="success")return n.data||[];throw new Error(n.message||"Gagal memuat data")},rt=async(t,e)=>{const n=await fetch(`${U}/harga-spesial/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await n.json();if(n.ok&&r.status==="success")return r;throw new Error(r.message||"Gagal menambahkan Harga Spesial")},at=async t=>{const e=await fetch(`${U}/harga-spesial/${t}`,{method:"DELETE"}),n=await e.json();if(e.ok&&n.status==="success")return n;throw new Error(n.message||"Gagal menghapus harga spesial")},ot=async()=>{const t=await fetch(`${U}/barang`),e=await t.json();if(t.ok&&e.status==="success")return e.data||[];throw new Error(e.message||"Gagal memuat data")},lt=async t=>{const e=await fetch(`${U}/barang`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await e.json();if(e.ok&&n.status==="success")return n;throw new Error(n.message||"Gagal menambahkan barang")},st=async(t,e)=>{const n=await fetch(`${U}/barang/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await n.json();if(n.ok&&r.status==="success")return r;throw new Error(r.message||"Gagal mengupdate barang")},it=async t=>{const e=await fetch(`${U}/barang/${t}`,{method:"DELETE"}),n=await e.json();if(e.ok&&n.status==="success")return n;throw new Error(n.message||"Gagal menghapus barang")},ct=async t=>{const e=await fetch(`${U}/barang/import`,{method:"POST",body:t}),n=await e.json();if(e.ok&&n.status==="success")return n;throw new Error(n.message||"Gagal mengimpor CSV")};function _t(){const[t,e]=L([]),[n,r]=L(!1),[l,o]=L(null),[i,_]=L(null),[f,c]=L(""),u=t.filter(p=>p.nama.toLowerCase().includes(f.toLowerCase())),a=(p,y)=>_({message:p,type:y}),h=async()=>{try{const p=await ot();e(p)}catch(p){console.error(p),a(p.message,"error")}};Fe(()=>{h()},[]);const d=async p=>{try{await lt(p),a("Berhasil menambah barang","success"),h()}catch(y){a(y.message,"error")}r(!1)},x=async(p,y)=>{try{await st(p,y),a("Berhasil mengubah barang","success"),h()}catch(w){a(w.message,"error")}r(!1)},T=async p=>{try{await ct(p),a("Berhasil mengimpor data CSV","success"),h()}catch(y){a(y.message,"error")}r(!1)},k=()=>{o(s(ee,{name:"semua data barang",actionText:"Download CSV",actionColor:"green",onConfirm:()=>{const p=["Nama","Harga"],y=t.map(S=>[S.nama,S.harga]),w=[p,...y].map(S=>S.join(",")).join(`
`),$=new Blob([w],{type:"text/csv;charset=utf-8;"}),N=URL.createObjectURL($),E=document.createElement("a");E.href=N,E.setAttribute("download","data_barang.csv"),document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(N),r(!1),a("CSV berhasil diunduh","success")},onCancel:()=>r(!1),children:s("p",{children:"Apakah Anda yakin ingin men-download semua data barang?"})})),r(!0)},m=()=>{o(s(te,{title:"Tambah Barang",fields:[{key:"nama",label:"Nama Barang",placeholder:"Masukkan nama barang"},{key:"harga",label:"Harga",type:"number",placeholder:"Masukkan harga"}],initialValues:{},onSubmit:d,onClose:()=>r(!1)})),r(!0)},g=p=>{o(s(te,{title:"Ubah Barang",fields:[{key:"nama",label:"Nama Barang"},{key:"harga",label:"Harga",type:"number"}],initialValues:p,onSubmit:y=>x(p.id,y),onClose:()=>r(!1)})),r(!0)},H=()=>{o(s(te,{submit:"Import",title:"Import CSV Barang",fields:[{key:"file",label:"Pilih File CSV",type:"file"}],initialValues:{},onSubmit:T,onClose:()=>r(!1)})),r(!0)},j=p=>{o(s(ee,{name:p.nama,actionText:"Hapus",actionColor:"red",onConfirm:async()=>{try{await it(p.id),a(`Berhasil menghapus ${p.nama}`,"success"),h()}catch(y){a(y.message,"error")}r(!1)},onCancel:()=>r(!1)})),r(!0)},I=[{key:"nama",label:"Nama Barang"},{key:"harga",label:"Harga",render:p=>s("span",{class:"text-blue-600 font-semibold cursor-pointer hover:underline",onClick:()=>F(p),children:p.harga})}],D=[{label:"Ubah",onClick:p=>g(p),color:"border-yellow-500 text-yellow-600 hover:bg-yellow-50 active:bg-yellow-400"},{label:"Hapus",onClick:p=>j(p),color:"border-red-500 text-red-600 hover:bg-red-50 active:bg-red-400"}],W=(p,y)=>{o(s(ee,{name:"Harga spesial ini",actionText:"Hapus",actionColor:"red",onConfirm:async()=>{try{await at(p),a("Berhasil menghapus harga spesial","success"),h()}catch(w){a(w.message,"error")}r(!1),F(y)},onCancel:()=>r(!1)})),r(!0)},F=async p=>{try{let y=await we(p.id),w=!1,$="",N="";const E=()=>s("div",{class:"p-4",children:[s("h3",{class:"text-lg font-semibold mb-2 text-center text-blue-700",children:p.nama}),s("span",{class:"block text-sm text-gray-700 mb-3",children:["Harga satuan: ",s("span",{class:"font-medium text-gray-900",children:p.harga})]}),s("div",{class:"space-y-2 mb-4",children:y.length===0?s("p",{class:"text-gray-500 text-center",children:"Belum ada harga spesial"}):y.map(S=>s("div",{class:"flex items-center bg-gray-50 border rounded-lg px-3 py-2",children:[s("span",{class:"font-medium text-gray-900",children:["Beli ",S.jumlah_minimal]}),s("span",{class:"mx-1 text-gray-700",children:"â€¢"}),s("span",{class:"font-semibold text-blue-600",children:["Rp ",S.harga_total]}),s("button",{onClick:()=>{W(S.id,p)},class:"ml-auto border border-red-500 text-red-600 bg-white hover:bg-red-50 px-2 py-0.5 rounded-full text-[11px] font-medium transition",children:"Hapus"})]},S.id))}),w?s(V,{children:[s("div",{class:"flex gap-2 mb-4",children:[s("input",{type:"number",placeholder:"Jumlah Barang",class:"flex-1 min-w-0 border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",value:$,onInput:S=>{$=S.target.value},min:2}),s("input",{type:"number",placeholder:"Harga Total",class:"flex-1 min-w-0 border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",value:N,onInput:S=>{N=S.target.value},min:1e3})]}),s(P,{color:"blue",onClick:async()=>{if(!$||!N){a("Jumlah dan Harga Total wajib diisi","error");return}try{await rt(p.id,{jumlah_minimal:parseInt($),harga_total:parseInt(N)}),y=await we(p.id),w=!1,$="",N="",o(E()),a("Harga spesial berhasil ditambahkan","success")}catch(S){a(S.message,"error")}},children:"Simpan"})]}):s(P,{color:"blue",onClick:()=>{w=!0,o(E())},children:"Tambah Harga Spesial"}),s("div",{class:"flex justify-end mt-2",children:s(P,{color:"gray",onClick:()=>r(!1),children:"Tutup"})})]});o(E()),r(!0)}catch(y){a(y.message,"error")}};return s("div",{children:[s("h2",{class:"text-lg font-semibold mb-4 text-blue-700 text-center",children:"ðŸ“¦ Data Barang"}),s("div",{class:"flex flex-col gap-4 mb-4",children:[s("div",{class:"flex gap-2 justify-end",children:[s(P,{color:"green",onClick:H,children:"ðŸ“¥ Import CSV"}),s(P,{color:"yellow",onClick:k,children:"ðŸ“¤ Export CSV"})]}),s("div",{class:"flex items-center gap-2",children:[s(P,{color:"blue",onClick:m,class:"shrink-0",children:"âž• Tambah Barang"}),s("input",{type:"text",placeholder:"Cari barang...",value:f,onInput:p=>c(p.target.value),class:"flex-1 border px-4 py-2 rounded-lg w-1/3 shadow focus:ring-2 focus:ring-blue-500"})]})]}),s(tt,{columns:I,data:u,actions:D}),s(et,{open:n,onClose:()=>r(!1),children:l}),i&&s(nt,{message:i.message,type:i.type,onClose:()=>_(null)})]})}function R({icon:t,label:e,active:n,onClick:r}){return s("button",{class:`flex flex-col items-center text-xs py-2 border-l last:border-r ${n?"bg-blue-100 text-blue-600 font-semibold":"bg-white text-gray-600"}`,onClick:r,children:[s("span",{class:"text-lg",children:t}),s("span",{children:e})]})}function ut(){const[t,e]=L("tambahPenjualan");return s("div",{class:"h-screen flex flex-col",children:[s("div",{class:"flex-1 p-4 overflow-y-auto",children:[t==="tambahPenjualan"&&s(Qe,{}),t==="penjualan"&&s(Xe,{}),t==="utang"&&s(Ze,{}),t==="barang"&&s(_t,{})]}),s("div",{class:"grid grid-cols-4 border-t bg-white",children:[s(R,{icon:"âž•",label:"Tambah",active:t==="tambahPenjualan",onClick:()=>e("tambahPenjualan")}),s(R,{icon:"ðŸ“Š",label:"Penjualan",active:t==="penjualan",onClick:()=>e("penjualan")}),s(R,{icon:"ðŸ’³",label:"Utang",active:t==="utang",onClick:()=>e("utang")}),s(R,{icon:"ðŸ“¦",label:"Barang",active:t==="barang",onClick:()=>e("barang")})]})]})}Re(s(ut,{}),document.getElementById("app"));
